# 开放 Issues 用户场景分析

本文档记录了 Smart Tab Switcher 当前开放 Issues 相关的用户场景，用于产品功能规划和优先级评估。

## Issue #11: 更改 Enter 键行为 - 在当前标签页打开

### 当前行为
- **已打开的标签**：Enter 切换到该标签
- **书签/搜索/URL**：Enter 在新标签页打开（前台）

### 用户期望行为
- **Enter**：在当前标签页打开（替换当前内容）
- **Ctrl+Enter**：在新标签页打开（保留当前页面）

### 场景 1：Obsidian + Firefox 工作流
- **用户角色**：Anarchtism（Issue 提交者）
- **使用环境**：在 Obsidian 和 Firefox 之间切换工作
- **具体需求**：从 Obsidian 切换到浏览器后，想要在当前标签页浏览内容
- **当前痛点**：每次打开书签都创建新标签，导致标签页过多
- **期望行为**：
  - `Enter`: 在当前标签页打开，保持简洁的标签栏
  - `Ctrl+Enter`: 需要保留当前页面时，在新标签页打开

### 场景 2：单标签页浏览模式
- **用户角色**：极简主义用户
- **使用环境**：习惯在一个标签页中浏览，通过前进/后退导航
- **具体需求**：搜索并访问书签时，希望在当前标签页打开
- **价值**：减少标签页管理负担，保持浏览器整洁

### 场景 3：快速信息查询
- **用户角色**：信息工作者
- **使用环境**：需要快速查看多个书签内容
- **工作流**：
  1. 打开一个空白标签页
  2. 使用 Smart Tab Switcher 搜索书签
  3. Enter 在当前标签页查看
  4. 继续搜索下一个书签，重复使用同一标签页
- **好处**：避免打开过多标签页

### 场景 4：参考 Obsidian Quick Switcher 行为
- **背景**：用户习惯了 Obsidian 的快速切换器行为
- **Obsidian 行为**：
  - Enter 在当前面板打开文件
  - Ctrl/Cmd+Enter 在新面板打开文件
- **期望**：浏览器扩展保持一致的交互模式

## Issue #10: 符号前缀切换查询模式

### 场景 1：专注搜索书签
- **用户角色**：知识工作者
- **使用环境**：收藏了 200+ 技术文档书签，当前打开 50+ 标签页
- **痛点**：搜索时标签页结果干扰书签查找
- **期望**：输入 `@react` 只搜索书签中的 React 资源

### 场景 2：仅搜索当前标签
- **用户角色**：全栈开发者
- **使用环境**：打开多个 localhost 不同端口
- **需求**：输入 `:3000` 只在已打开的标签中搜索
- **价值**：避免误触发搜索引擎或显示无关书签

### 场景 3：直接网络搜索
- **用户角色**：通用用户
- **使用环境**：想搜索新内容而非切换标签
- **期望**：输入 `!machine learning` 直接用搜索引擎
- **好处**：统一入口，减少操作步骤

### 符号前缀示例
```
@文档      → 只显示书签中的文档
:localhost → 只在打开的标签中搜索
!新技术    → 直接 Google 搜索
#工作      → 只显示带"工作"标签的书签（如果支持标签功能）
```

## Issue #9: 改进键盘导航（Tab/Ctrl+J/K）

### 场景 1：单手操作
- **用户角色**：多任务处理者
- **使用环境**：左手拿咖啡/接电话，右手操作键盘
- **痛点**：右手从主键盘区移到方向键太远
- **期望**：用 Tab 键上下选择结果

### 场景 2：Vim 用户习惯
- **用户角色**：程序员（Vim 用户）
- **使用环境**：习惯 Vim 键位（J 向下，K 向上）
- **期望**：`Ctrl+J/K` 导航，保持手在主键盘区
- **效率提升**：搜索和选择一气呵成

### 场景 3：快速连续操作
- **用户角色**：销售人员
- **使用环境**：快速切换多个客户页面
- **工作流**：
  1. 输入客户名前几个字母
  2. Tab 快速选择（不移动手）
  3. Enter 确认
- **价值**：整个过程手不离开主键盘区

### 场景 4：笔记本电脑用户
- **用户角色**：移动办公用户
- **使用环境**：使用笔记本触控板，方向键位置别扭
- **需求**：更符合人体工程学的导航方式

## 综合使用场景

### 知识工作者的一天
1. **早上查邮件**：`!gmail` 前缀快速搜索并打开邮箱
2. **处理任务**：`@jira` 只看收藏的项目看板
3. **研究问题**：找到资料用 `Ctrl+Enter` 新标签打开对比
4. **编写文档**：用 `Tab` 键快速在参考资料间切换
5. **团队沟通**：`:slack` 快速找到团队沟通页面

### 开发者工作流
1. **本地开发**：`:3000` 快速定位开发服务器
2. **查找文档**：`@mdn` 在书签中找 MDN 文档
3. **解决问题**：发现 bug 后 `!error message` 直接搜索
4. **代码审查**：`Ctrl+J/K` 快速浏览多个 PR 页面

## 功能优先级建议

基于用户场景分析，建议优先级如下：

1. **高优先级**：Issue #11（新标签页打开）
   - 基础需求，影响所有用户
   - 实现相对简单
   - 立即提升用户体验

2. **中优先级**：Issue #10（查询模式切换）
   - 高级用户功能
   - 显著提升搜索效率
   - 需要良好的 UI/UX 设计

3. **低优先级**：Issue #9（替代导航键）
   - 锦上添花的功能
   - 满足特定用户群体
   - 可作为设置选项提供

## 实现建议

1. **Issue #11**：
   - 添加键盘事件监听
   - 在设置中允许自定义行为
   - 保持与浏览器原生行为一致

2. **Issue #10**：
   - 设计清晰的符号系统
   - 提供符号提示/帮助
   - 考虑可配置性

3. **Issue #9**：
   - 作为可选设置
   - 支持多种导航模式
   - 不影响现有用户习惯

---

*最后更新：2025-01-23*